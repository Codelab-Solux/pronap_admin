{% load app_tags %}
<!--  -->
{% if not outputs %}
<div class="flex flex-col items-center gap-2 my-20 mx-auto">
  <i class="fa-solid fa-arrow-up text-orange-500 text-9xl"></i>
  <span>Aucune entrée ou sortie de stock trouvée</span>
</div>
{% else %}
<div class="overflow-x-auto overflow-y-hidden rounded-xl">
  <table id="entries_table" class="w-full text-left db-table">
    <thead class="bg-green-700 border border-green-900 text-white">
      <tr>
        <th class="px-3 py-4 text-sm">Réf.</th>
        <th class="px-3 py-4 text-sm">Article</th>
        <th class="px-3 py-4 text-sm">Famille</th>
        <th class="px-3 py-4 text-sm text-center">Entrées</th>
        <th class="px-3 py-4 text-sm text-center">Sorties</th>
        <th class="px-3 py-4 text-sm text-center">Stock final</th>
        <th class="px-3 py-4 text-sm text-center">Prix unitaire</th>
        <th class="px-3 py-4 text-sm text-center">Valeur</th>
      </tr>
    </thead>

    <tbody class="border">
      {% for obj in products %}
      <tr
        class="text-gray-600 border text-sm hover:bg-white hover:text-black transition-all duration-50"
      >
        <td class="px-3 py-1">Stk-000-{{obj.id}}</td>
        <td class="px-3 py-1">{{obj.product.name}}</td>
        <td class="px-3 py-1">{{obj.product.family}}</td>
        <td class="px-3 py-1 text-center">{{ obj.id|get_input_count }}</td>
        <td class="px-3 py-1 text-center">{{ obj.id|get_output_count }}</td>
        <td class="px-3 py-1 text-center">{{ obj.id|get_final_stock }}</td>
        <td class="px-3 py-1 text-center">{{obj.price}} Cfa</td>
        <td class="px-3 py-1 text-center">{{ obj.id|get_stock_value }} Cfa</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
